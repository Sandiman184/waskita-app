# =============================================================================
# WASKITA APPLICATION CONFIGURATION
# =============================================================================
# Copy this file to .env and update values for your environment
# SECURITY WARNING: Never commit .env files to version control!
#
# DEPLOYMENT GUIDE:
#
# LOCAL DEVELOPMENT:
# 1. Copy: cp .env.example .env
# 2. Edit .env with local values
# 3. Setup: python setup_postgresql.py
# 4. Start: python app.py
#
# DOCKER DEVELOPMENT:
# 1. Copy: cp .env.example .env.docker
# 2. Edit .env.docker for Docker (ENABLE_SSL=false, NGINX_SERVER_NAME=localhost)
# 3. Run: docker-compose -f docker/docker-compose.local.yml up --build
#
# DOCKER PRODUCTION:
# 1. Copy: cp .env.example .env.production
# 2. Edit .env.production (ENABLE_SSL=true, NGINX_SERVER_NAME=yourdomain.com)
# 3. Set production environment variables
# 4. Run: docker-compose -f docker/docker-compose.yml up --build -d
#
# VPS DEPLOYMENT:
# Use install-build.ps1 -Production for automated deployment
#
# DEFAULT ADMIN CREDENTIALS (after setup):
# Username: admin
# Password: admin123 (or what you set during setup)
# Email: admin@waskita.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database Connection Strings
# For local development: use localhost
# For Docker: use service name 'db' (internal Docker networking)
DATABASE_URL=postgresql://admin:your_secure_password@localhost:5432/db_waskita
DATABASE_URL_DOCKER=postgresql://admin:your_secure_password@db:5432/db_waskita
TEST_DATABASE_URL=postgresql://admin:your_secure_password@localhost:5432/db_waskitatest

# Individual Database Settings
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=db_waskita
DATABASE_USER=admin
DATABASE_PASSWORD=your_secure_password

# PostgreSQL Settings for Docker Compose
POSTGRES_USER=admin
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=db_waskita

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
# Generate secure key: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-secure-random-key-in-production

# Environment Configuration
# For production: FLASK_ENV=production, FLASK_DEBUG=False, FLASK_CONFIG=production
# For development: FLASK_ENV=development, FLASK_DEBUG=True, FLASK_CONFIG=development
FLASK_ENV=development
FLASK_DEBUG=True
FLASK_CONFIG=development

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
WTF_CSRF_ENABLED=True
WTF_CSRF_TIME_LIMIT=3600
WTF_CSRF_SECRET_KEY=change-this-csrf-secret-key
JWT_SECRET_KEY=change-this-jwt-secret-key
WASKITA_API_KEY=change-this-api-key

# Session Security Configuration
# For production: SESSION_COOKIE_SECURE=True, SESSION_COOKIE_DOMAIN=yourdomain.com
# For development: SESSION_COOKIE_SECURE=False, SESSION_COOKIE_DOMAIN=
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
# Set cookie domain for production (e.g., ".waskita.site" for subdomains)
SESSION_COOKIE_DOMAIN=

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216

# =============================================================================
# WORD2VEC MODEL CONFIGURATION
# =============================================================================
WORD2VEC_MODEL_PATH=models/embeddings/wiki_word2vec_csv_updated.model
NAIVE_BAYES_MODEL1_PATH=models/navesbayes/naive_bayes_model1.pkl
NAIVE_BAYES_MODEL2_PATH=models/navesbayes/naive_bayes_model2.pkl
NAIVE_BAYES_MODEL3_PATH=models/navesbayes/naive_bayes_model3.pkl

# =============================================================================
# EMAIL CONFIGURATION (Gmail SMTP)
# =============================================================================
# For Gmail: Enable 2FA and generate App Password
# Guide: https://support.google.com/accounts/answer/185833
# Leave empty to disable email features
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-16-digit-app-password
MAIL_DEFAULT_SENDER=your-email@gmail.com

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
ADMIN_EMAIL=admin@waskita.com
ADMIN_EMAILS=admin@waskita.com,admin2@waskita.com

# =============================================================================
# OTP SYSTEM CONFIGURATION
# =============================================================================
# Turn OTP on/off globally (first-login OTP). Use False for dev only.
OTP_ENABLED=True
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=1
MAX_OTP_ATTEMPTS=3
LOCKOUT_DURATION_MINUTES=15

# =============================================================================
# REGISTRATION SETTINGS
# =============================================================================
REGISTRATION_ENABLED=True
AUTO_APPROVE_REGISTRATION=False

# =============================================================================
# APPLICATION URLS
# =============================================================================
BASE_URL=http://localhost:5000

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins for API endpoints
CORS_ORIGINS=http://localhost:5000,http://127.0.0.1:5000

# =============================================================================
# EMAIL NOTIFICATION SETTINGS
# =============================================================================
SEND_EMAIL_NOTIFICATIONS=True
EMAIL_RETRY_ATTEMPTS=3
EMAIL_RETRY_DELAY_SECONDS=5

# =============================================================================
# APIFY API CONFIGURATION
# =============================================================================
APIFY_API_TOKEN=your-apify-api-token
APIFY_BASE_URL=https://api.apify.com/v2
APIFY_TWITTER_ACTOR=kaitoeasyapi/twitter-x-data-tweet-scraper-pay-per-result-cheapest
APIFY_FACEBOOK_ACTOR=apify/facebook-scraper
APIFY_INSTAGRAM_ACTOR=apify/instagram-scraper
APIFY_TIKTOK_ACTOR=clockworks/free-tiktok-scraper
APIFY_TIMEOUT=30
APIFY_MAX_RETRIES=3
APIFY_RETRY_DELAY=5



# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# PAGINATION
# =============================================================================
POSTS_PER_PAGE=25

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/waskita.log

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker Port Configuration
DB_PORT=5432
WEB_PORT=5000
REDIS_PORT=6379
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
CREATE_SAMPLE_DATA=false

# Docker-specific Environment Control
DOTENV_OVERRIDE=True
ASSET_VERSION=20251111_5
TZ=Asia/Jakarta

# SSL Configuration
# Set ENABLE_SSL=true for production with SSL/HTTPS
# Set ENABLE_SSL=false for local development
ENABLE_SSL=false
# Server name for Nginx configuration (e.g., "waskita.site www.waskita.site")
NGINX_SERVER_NAME=localhost

# Model Loading Configuration
# Set DISABLE_MODEL_LOADING=false for production (load models on startup)
# Set DISABLE_MODEL_LOADING=true for development (lazy loading)
DISABLE_MODEL_LOADING=True

# Redis Configuration (consistent)
REDIS_URL=redis://redis:6379/0

# =============================================================================
# CLEANUP CONFIGURATION
# =============================================================================
CLEANUP_EXPIRED_REQUESTS_HOURS=24
KEEP_COMPLETED_REQUESTS_DAYS=30